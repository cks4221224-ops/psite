# Render 배포 설정
# https://render.com/docs/render-yaml

services:
  - type: web
    name: prompthub-api
    runtime: python
    region: singapore      # 한국과 가까운 리전
    plan: free             # 무료 플랜

    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT

    envVars:
      - key: SUPABASE_URL
        sync: false        # Render 대시보드에서 수동 입력
      - key: SUPABASE_KEY
        sync: false
      - key: ALLOWED_ORIGINS
        sync: false        # 예: https://your-app.vercel.app
